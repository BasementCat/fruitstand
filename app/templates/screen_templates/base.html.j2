<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width={{ screen.display.width }}, height={{ screen.display.height }}, initial-scale=1, maximum-scale=1, user-scalable=no" />
        <title>{% block title %}{% endblock %}</title>
        {% block styles %}
            <link rel="stylesheet" href="{{ url_for('static', filename='css/screen_base.css') }}" />

            <link rel="stylesheet" href="{{ url_for('static', filename='fonts/liberation-sans-fontfacekit/web fonts/liberationsans_regular/stylesheet.css') }}" />
        {% endblock %}
    </head>
    <body class="ds-{{ display.display_spec.code }} cs-{{ display.color_spec.code }}">
        <div id="main">
            {% block content %}{% endblock %}
        </div>
        <div id="statusbar">
            {% block statusbar %}
                <div class="statusbar-item d-s-inline-block refresh">
                    <img class="inline-svg" src="{{ url_for('static', filename='images/wi-cloud-refresh.svg') }}">
                    {{ now() |dt(no_markup=True) }}
                </div>
                {% if context.metrics.wifi %}
                    <div class="statusbar-item wifi">
                        {% if context.metrics.wifi.b == 0 %}
                            <img class="inline-svg bad" src="{{ url_for('static', filename='images/wifi/wifi_x.svg') }}" />
                            <span class="d-m-inline">Bad</span>
                        {% elif context.metrics.wifi.b == 1 %}
                            <img class="inline-svg bad" src="{{ url_for('static', filename='images/wifi/wifi_1_bar.svg') }}" />
                            <span class="d-m-inline">Poor</span>
                        {% elif context.metrics.wifi.b == 2 %}
                            <img class="inline-svg ok" src="{{ url_for('static', filename='images/wifi/wifi_2_bar.svg') }}" />
                            <span class="d-m-inline">OK</span>
                        {% elif context.metrics.wifi.b == 3 %}
                            <img class="inline-svg ok" src="{{ url_for('static', filename='images/wifi/wifi_3_bar.svg') }}" />
                            <span class="d-m-inline">Good</span>
                        {% elif context.metrics.wifi.b == 4 %}
                            <img class="inline-svg good" src="{{ url_for('static', filename='images/wifi/wifi.svg') }}" />
                            <span class="d-m-inline">Excellent</span>
                        {% else %}
                            <img class="inline-svg bad" src="{{ url_for('static', filename='images/wifi/wifi_off.svg') }}" />
                            <span class="d-m-inline">Off</span>
                        {% endif %}
                        <span class="d-l-inline">({{ context.metrics.wifi.dbm }} dBm)</span>
                    </div>
                {% endif %}
                {% if context.metrics.battery %}
                    <div class="statusbar-item battery">
                        {% if context.metrics.battery.charging %}
                            <img class="inline-svg good" src="{{ url_for('static', filename='images/battery/battery_charging_full_90deg.svg') }}" />
                            <span class="d-l-inline">[Charging]</span>
                        {% elif context.metrics.battery.percent >= 0.95 %}
                            <img class="inline-svg good" src="{{ url_for('static', filename='images/battery/battery_full_90deg.svg') }}" />
                        {% elif context.metrics.battery.percent >= 0.81 %}
                            <img class="inline-svg good" src="{{ url_for('static', filename='images/battery/battery_6_bar_90deg.svg') }}" />
                        {% elif context.metrics.battery.percent >= 0.67 %}
                            <img class="inline-svg good" src="{{ url_for('static', filename='images/battery/battery_5_bar_90deg.svg') }}" />
                        {% elif context.metrics.battery.percent >= 0.53 %}
                            <img class="inline-svg ok" src="{{ url_for('static', filename='images/battery/battery_4_bar_90deg.svg') }}" />
                        {% elif context.metrics.battery.percent >= 0.39 %}
                            <img class="inline-svg ok" src="{{ url_for('static', filename='images/battery/battery_3_bar_90deg.svg') }}" />
                        {% elif context.metrics.battery.percent >= 0.25 %}
                            <img class="inline-svg ok" src="{{ url_for('static', filename='images/battery/battery_2_bar_90deg.svg') }}" />
                        {% elif context.metrics.battery.percent >= 0.11 %}
                            <img class="inline-svg bad" src="{{ url_for('static', filename='images/battery/battery_1_bar_90deg.svg') }}" />
                        {% elif context.metrics.battery.percent >= 0.05 %}
                            <img class="inline-svg bad" src="{{ url_for('static', filename='images/battery/battery_0_bar_90deg.svg') }}" />
                        {% else %}
                            <img class="inline-svg bad" src="{{ url_for('static', filename='images/battery/battery_alert_90deg.svg') }}" />
                        {% endif %}
                        <span class="d-m-inline">{{ context.metrics.battery.percent |percent }}</span>
                        <span class="d-l-inline">({{ context.metrics.battery.voltage |fixed(d=2) }}v)</span>
                    </div>
                {% endif %}
            {% endblock %}
        </div>
        {% block scripts %}
            <script src="{{ url_for('static', filename='js/screen_helpers.js') }}"></script>
        {% endblock %}
    </body>
</html>